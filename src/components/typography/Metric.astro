---
import { cva, type VariantProps } from 'class-variance-authority';

const metric = cva(
  // Base: mono font, semibold, tight tracking (matches achievement-metric)
  [
    'font-mono',
    'font-semibold',
    'tracking-tight',
    'leading-none',
    'print:text-[var(--color-print-foreground)]',
    'print:font-bold',
  ],
  {
    variants: {
      size: {
        sm: ['text-fluid-base', 'print:text-[14px]'],
        default: ['text-fluid-lg', 'print:text-[18px]'],
        lg: ['text-fluid-xl', 'print:text-[22px]'],
        xl: ['text-fluid-2xl', 'print:text-[26px]'],
      },
      color: {
        default: 'text-foreground',
        purple: 'text-accent-purple',
        green: 'text-accent-green',
        blue: 'text-accent-blue',
        orange: 'text-accent-orange',
      },
    },
    defaultVariants: {
      size: 'default',
      color: 'default',
    },
  }
);

type MetricVariants = VariantProps<typeof metric>;

const {
  as: Tag = 'span',
  size = 'default',
  color = 'default',
  class: className,
  ...attrs
} = Astro.props as MetricVariants & {
  as?: 'span' | 'div' | 'p' | 'data';
  class?: string;
};

const classes = metric({ size, color, class: className });
---

<Tag class={classes} {...attrs}>
  <slot />
</Tag>
