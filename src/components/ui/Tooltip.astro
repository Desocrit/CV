---
interface Props {
  content: string;
  side?: 'top' | 'bottom' | 'left' | 'right';
}

const { content, side = 'top' } = Astro.props;

const sideClasses = {
  top: 'bottom-full left-1/2 -translate-x-1/2 mb-2',
  bottom: 'top-full left-1/2 -translate-x-1/2 mt-2',
  left: 'right-full top-1/2 -translate-y-1/2 mr-2',
  right: 'left-full top-1/2 -translate-y-1/2 ml-2',
};
---

<button
  type="button"
  class:list={[
    'group relative inline border-none p-0 m-0',
    'font-inherit text-inherit',
    'underline decoration-dotted underline-offset-2',
    'cursor-help',
    'focus:outline-none',
    'focus-visible:outline-2 focus-visible:outline-ring focus-visible:outline-offset-2 focus-visible:rounded-sm',
    'print:no-underline print:cursor-default',
  ]}
  aria-describedby="tooltip-content"
>
  <slot />
  <span
    id="tooltip-content"
    class:list={[
      'absolute z-50 hidden w-max max-w-xs rounded-md',
      'bg-popover px-3 py-1.5 text-fluid-sm text-popover-foreground',
      'shadow-md border border-border font-normal',
      'group-hover:block group-focus:block',
      'print:!hidden',
      sideClasses[side],
    ]}
    role="tooltip"
  >
    {content}
  </span>
</button>
