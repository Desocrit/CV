---
/**
 * SidebarQrCode - QR code for web viewing (print only)
 *
 * Displays a QR code linking to the online CV.
 * Only visible in print output.
 */
import PrintOnly from '../../layout/PrintOnly.astro';
import Stack from '../../layout/Stack.astro';
import Label from '../../typography/Label.astro';
import Text from '../../typography/Text.astro';

interface Props {
  url?: string;
  label?: string;
}

const { url = 'cs-cv.vercel.app', label = 'View on web' } = Astro.props;

const fullUrl = url.startsWith('http') ? url : `https://${url}`;
---

<PrintOnly as="section" class="print:!block print:mt-14" aria-label="View CV online">
  <Stack gap="xs" class="print:mt-10 print:items-center print:gap-0.5">
    <Label as="p" variant="contact">{label}</Label>
    <div class="size-[52px]">
      <svg
        viewBox="0 0 29 29"
        xmlns="http://www.w3.org/2000/svg"
        class="w-full h-full"
        role="img"
        aria-labelledby="qr-title qr-desc"
      >
        <title id="qr-title">QR Code</title>
        <desc id="qr-desc">Scan to visit {fullUrl}</desc>
        <rect width="29" height="29" fill="#fff"/>
        <path d="M0 0h7v1h-7zM8 0h1v1h-1zM10 0h1v1h-1zM12 0h2v1h-2zM15 0h3v1h-3zM19 0h3v1h-3zM22 0h7v1h-7zM0 1h1v1h-1zM6 1h1v1h-1zM8 1h1v1h-1zM11 1h3v1h-3zM17 1h1v1h-1zM19 1h1v1h-1zM22 1h1v1h-1zM28 1h1v1h-1zM0 2h1v1h-1zM2 2h3v1h-3zM6 2h1v1h-1zM8 2h2v1h-2zM13 2h1v1h-1zM15 2h3v1h-3zM20 2h1v1h-1zM22 2h1v1h-1zM24 2h3v1h-3zM28 2h1v1h-1zM0 3h1v1h-1zM2 3h3v1h-3zM6 3h1v1h-1zM8 3h1v1h-1zM11 3h1v1h-1zM13 3h2v1h-2zM18 3h1v1h-1zM20 3h1v1h-1zM22 3h1v1h-1zM24 3h3v1h-3zM28 3h1v1h-1zM0 4h1v1h-1zM2 4h3v1h-3zM6 4h1v1h-1zM9 4h1v1h-1zM11 4h1v1h-1zM13 4h1v1h-1zM16 4h1v1h-1zM20 4h1v1h-1zM22 4h1v1h-1zM24 4h3v1h-3zM28 4h1v1h-1zM0 5h1v1h-1zM6 5h1v1h-1zM10 5h1v1h-1zM12 5h1v1h-1zM14 5h1v1h-1zM16 5h2v1h-2zM19 5h1v1h-1zM22 5h1v1h-1zM28 5h1v1h-1zM0 6h7v1h-7zM8 6h1v1h-1zM10 6h1v1h-1zM12 6h1v1h-1zM14 6h1v1h-1zM16 6h1v1h-1zM18 6h1v1h-1zM20 6h1v1h-1zM22 6h7v1h-7zM9 7h2v1h-2zM12 7h3v1h-3zM16 7h2v1h-2zM19 7h2v1h-2zM0 8h1v1h-1zM2 8h2v1h-2zM5 8h2v1h-2zM8 8h3v1h-3zM13 8h2v1h-2zM18 8h2v1h-2zM21 8h2v1h-2zM24 8h2v1h-2zM27 8h2v1h-2zM0 9h2v1h-2zM4 9h1v1h-1zM7 9h2v1h-2zM10 9h2v1h-2zM13 9h1v1h-1zM16 9h1v1h-1zM18 9h2v1h-2zM21 9h1v1h-1zM24 9h1v1h-1zM26 9h2v1h-2zM1 10h3v1h-3zM5 10h3v1h-3zM9 10h2v1h-2zM12 10h3v1h-3zM16 10h1v1h-1zM18 10h3v1h-3zM23 10h2v1h-2zM26 10h2v1h-2zM0 11h1v1h-1zM3 11h1v1h-1zM5 11h2v1h-2zM10 11h1v1h-1zM13 11h1v1h-1zM15 11h3v1h-3zM19 11h3v1h-3zM25 11h1v1h-1zM27 11h1v1h-1zM0 12h2v1h-2zM4 12h3v1h-3zM9 12h1v1h-1zM11 12h1v1h-1zM14 12h2v1h-2zM18 12h1v1h-1zM20 12h1v1h-1zM22 12h2v1h-2zM25 12h1v1h-1zM27 12h2v1h-2zM0 13h1v1h-1zM2 13h2v1h-2zM6 13h1v1h-1zM8 13h2v1h-2zM12 13h2v1h-2zM15 13h2v1h-2zM18 13h1v1h-1zM22 13h1v1h-1zM24 13h1v1h-1zM26 13h2v1h-2zM0 14h2v1h-2zM5 14h1v1h-1zM7 14h3v1h-3zM11 14h2v1h-2zM14 14h1v1h-1zM17 14h1v1h-1zM19 14h2v1h-2zM22 14h2v1h-2zM25 14h1v1h-1zM27 14h1v1h-1zM0 15h1v1h-1zM3 15h2v1h-2zM6 15h1v1h-1zM9 15h3v1h-3zM14 15h1v1h-1zM16 15h2v1h-2zM19 15h1v1h-1zM21 15h1v1h-1zM25 15h1v1h-1zM27 15h1v1h-1zM0 16h1v1h-1zM2 16h2v1h-2zM6 16h1v1h-1zM8 16h2v1h-2zM12 16h2v1h-2zM16 16h1v1h-1zM18 16h2v1h-2zM21 16h2v1h-2zM24 16h5v1h-5zM1 17h3v1h-3zM5 17h1v1h-1zM8 17h1v1h-1zM12 17h1v1h-1zM14 17h1v1h-1zM17 17h4v1h-4zM22 17h1v1h-1zM24 17h2v1h-2zM27 17h2v1h-2zM0 18h1v1h-1zM2 18h1v1h-1zM4 18h2v1h-2zM8 18h1v1h-1zM11 18h1v1h-1zM13 18h1v1h-1zM15 18h4v1h-4zM21 18h1v1h-1zM24 18h3v1h-3zM0 19h1v1h-1zM3 19h2v1h-2zM6 19h1v1h-1zM8 19h1v1h-1zM10 19h3v1h-3zM15 19h1v1h-1zM17 19h1v1h-1zM20 19h2v1h-2zM26 19h1v1h-1zM28 19h1v1h-1zM1 20h2v1h-2zM5 20h3v1h-3zM10 20h2v1h-2zM13 20h2v1h-2zM18 20h1v1h-1zM20 20h2v1h-2zM23 20h2v1h-2zM26 20h1v1h-1zM28 20h1v1h-1zM8 21h3v1h-3zM13 21h2v1h-2zM17 21h1v1h-1zM19 21h2v1h-2zM23 21h1v1h-1zM26 21h3v1h-3zM0 22h7v1h-7zM8 22h1v1h-1zM11 22h2v1h-2zM14 22h1v1h-1zM16 22h2v1h-2zM21 22h1v1h-1zM24 22h4v1h-4zM0 23h1v1h-1zM6 23h1v1h-1zM8 23h3v1h-3zM12 23h2v1h-2zM15 23h3v1h-3zM19 23h3v1h-3zM24 23h2v1h-2zM27 23h2v1h-2zM0 24h1v1h-1zM2 24h3v1h-3zM6 24h1v1h-1zM10 24h3v1h-3zM14 24h3v1h-3zM19 24h2v1h-2zM23 24h1v1h-1zM25 24h4v1h-4zM0 25h1v1h-1zM2 25h3v1h-3zM6 25h1v1h-1zM8 25h1v1h-1zM10 25h1v1h-1zM12 25h2v1h-2zM15 25h1v1h-1zM18 25h2v1h-2zM22 25h1v1h-1zM25 25h1v1h-1zM27 25h1v1h-1zM0 26h1v1h-1zM2 26h3v1h-3zM6 26h1v1h-1zM9 26h1v1h-1zM11 26h2v1h-2zM14 26h3v1h-3zM18 26h1v1h-1zM21 26h1v1h-1zM24 26h1v1h-1zM0 27h1v1h-1zM6 27h1v1h-1zM9 27h2v1h-2zM12 27h2v1h-2zM15 27h3v1h-3zM19 27h1v1h-1zM21 27h2v1h-2zM24 27h1v1h-1zM26 27h2v1h-2zM0 28h7v1h-7zM8 28h3v1h-3zM13 28h2v1h-2zM17 28h2v1h-2zM20 28h1v1h-1zM22 28h1v1h-1zM24 28h2v1h-2zM27 28h1v1h-1z" fill="#000"/>
      </svg>
    </div>
    <Text as="span" mono>{url}</Text>
  </Stack>
</PrintOnly>
