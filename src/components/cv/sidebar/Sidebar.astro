---
/**
 * Sidebar - Main sidebar composition
 *
 * Composes all sidebar subcomponents using the Layout wrapper.
 * This is the primary export for the sidebar module.
 */
import Layout from './Layout.astro';
import Header from './Header.astro';
import Nav from './Nav.astro';
import Profile from './Profile.astro';
import Achievements from './Achievements.astro';
import QrCode from './QrCode.astro';
import TechStackPrint from '../TechStackPrint.astro';
import type { TechTag } from '../../../lib/cv-data';

interface AchievementItem {
  metric: string;
  headline: string;
  description: string;
}

interface PrintGroup {
  subheading: string;
  items: AchievementItem[];
}

interface Props {
  name: string;
  role: string;
  email: string;
  phone?: string;
  location: string;
  linkedin: string;
  github: string;
  profile: string;
  achievements: AchievementItem[];
  /** Impact nodes grouped by category with subheadings for print */
  impactPrintGroups?: PrintGroup[];
  technologies: TechTag[];
}

const {
  name,
  role,
  email,
  phone: _phone,
  location,
  linkedin,
  github,
  profile,
  achievements,
  impactPrintGroups,
  technologies,
} = Astro.props;
---

<Layout>
  <Header slot="header" name={name} role={role} location={location} />

  <Nav slot="nav" email={email} linkedin={linkedin} github={github} />

  <Profile profile={profile} />
  <Achievements
    achievements={achievements}
    printGroups={impactPrintGroups}
    printTitle="Impact"
  />
  <TechStackPrint technologies={technologies} />

  <QrCode slot="footer" />
</Layout>
