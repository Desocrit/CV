---
/**
 * SidebarSection - Sidebar section with responsive title variants
 *
 * Handles the complex title display logic for sidebar sections:
 * - Desktop: Mono uppercase title with underline
 * - Mobile dark mode: Terminal-style "> TITLE" format
 * - Mobile light mode: Clean title matching desktop
 * - Print: Professional title styling
 *
 * @example
 * <SidebarSection title="Profile">
 *   <p>Profile content here</p>
 * </SidebarSection>
 */
import Label from '../../typography/Label.astro';
import Stack from '../../layout/Stack.astro';

interface Props {
  /** Section title (displayed in multiple formats based on viewport/theme) */
  title: string;
  /** ARIA label for the section (defaults to title) */
  label?: string;
  /** Additional CSS classes */
  class?: string;
}

const { title, label, class: className = '' } = Astro.props as Props;
const ariaLabel = label ?? title;
---

<Stack
  as="section"
  gap="xs"
  class:list={[
    'sidebar-section print:mb-10',
    className,
  ]}
  aria-label={ariaLabel}
>
  <!-- Desktop & Light mode: Clean mono title with underline -->
  <Label
    as="h2"
    variant="section"
    class="hidden light:block sm:!hidden lg:!block"
  >
    {title}
  </Label>

  <!-- Mobile dark mode: Terminal-style prompt -->
  <Label
    as="h2"
    variant="terminal"
    color="green"
    class="block light:hidden sm:hidden"
  >
    <span aria-hidden="true">&gt; </span>{title.toUpperCase()}
  </Label>

  <div class="sidebar-section__content">
    <slot />
  </div>
</Stack>
