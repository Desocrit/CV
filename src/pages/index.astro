---
import Layout from '../layouts/Layout.astro';
import CVLayout from '../components/layout/CVLayout.astro';
import PrintHeader from '../components/cv/PrintHeader.astro';
import Sidebar from '../components/cv/sidebar/Sidebar.astro';
import Section from '../components/ui/Section.astro';
import ContentCard from '../components/cv/ContentCard.astro';
import ImpactGrid from '../components/cv/ImpactGrid.astro';
import ListItem from '../components/layout/ListItem.astro';
import {
  layoutDTO,
  sidebarDTO,
  impactGridDTO,
  projectCards,
  workHistoryCards,
  educationCard,
} from '../lib/cv-dto';
---

<Layout {...layoutDTO}>
  <PrintHeader
    name={sidebarDTO.name}
    role={sidebarDTO.role}
    location={sidebarDTO.location}
    phone={sidebarDTO.phone}
    email={sidebarDTO.email}
    linkedin={sidebarDTO.linkedin}
    github={sidebarDTO.github}
    profile={sidebarDTO.profile}
  />
  <CVLayout>
    <Sidebar slot="sidebar" {...sidebarDTO} />

    <Section
      title="Projects"
      id="projects"
      contentClass="light:pt-[var(--spacing-fluid-xs)]"
      titleClass="xl:mt-[3px] transition-colors duration-150 ease-out min-[1200px]:group-has-[.content-list-item:nth-child(1):hover]:[color:var(--color-accent-green)] min-[1200px]:group-has-[.content-list-item:nth-child(2):hover]:[color:var(--color-accent-orange)] min-[1200px]:group-has-[.content-list-item:nth-child(3):hover]:[color:var(--color-accent-blue)] min-[1200px]:group-has-[.content-list-item:nth-child(4):hover]:[color:var(--color-accent-purple)]"
    >
      <div class="content-list">
        {projectCards.map((card) => (
          <ListItem>
            <ContentCard {...card} hideExtraBullets />
          </ListItem>
        ))}
      </div>
    </Section>

    <Section
      title="Impact"
      id="impact"
      class="[&:not(.is-collapsed)]:mb-[var(--spacing-fluid-md)]"
      titleClass="transition-colors duration-150 ease-out min-[1300px]:group-has-[.impact-card-wrapper--green:hover]:[color:var(--color-accent-green)] min-[1300px]:group-has-[.impact-card-wrapper--blue:hover]:[color:var(--color-accent-blue)] min-[1300px]:group-has-[.impact-card-wrapper--purple:hover]:[color:var(--color-accent-purple)] min-[1300px]:group-has-[.impact-card-wrapper--orange:hover]:[color:var(--color-accent-orange)] min-[1300px]:group-has-[.impact-card-wrapper--red:hover]:[color:var(--color-accent-red)] min-[1300px]:group-has-[.impact-card-wrapper--cyan:hover]:[color:var(--color-accent-cyan)]"
    >
      <ImpactGrid {...impactGridDTO} />
    </Section>

    <Section
      title="History"
      id="history"
      class="print:mt-10"
      contentClass="light:pt-[var(--spacing-fluid-xs)]"
      titleClass="xl:mt-[3px] transition-colors duration-150 ease-out min-[1200px]:group-has-[.content-list-item:nth-child(1):hover]:[color:var(--color-accent-green)] min-[1200px]:group-has-[.content-list-item:nth-child(2):hover]:[color:var(--color-accent-purple)] min-[1200px]:group-has-[.content-list-item:nth-child(3):hover]:[color:var(--color-accent-blue)]"
    >
      <div class="content-list">
        {workHistoryCards.map((card) => (
          <ListItem>
            <ContentCard {...card} />
          </ListItem>
        ))}
      </div>
    </Section>

    <Section
      title="Education"
      id="education"
      titleClass="xl:mt-[3px]"
      printHide
    >
      <div class="content-list">
        <ListItem bordered={false}>
          <ContentCard {...educationCard} />
        </ListItem>
      </div>
    </Section>
  </CVLayout>
</Layout>
