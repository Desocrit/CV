---
import Layout from '../layouts/Layout.astro';
import CVLayout from '../components/layout/CVLayout.astro';
import PrintHeader from '../components/cv/PrintHeader.astro';
import Sidebar from '../components/cv/sidebar/Sidebar.astro';
import Section from '../components/ui/Section.astro';
import ContentCard from '../components/cv/ContentCard.astro';
import ImpactGrid from '../components/cv/ImpactGrid.astro';
import ListItem from '../components/layout/ListItem.astro';
import {
  layoutDTO,
  sidebarDTO,
  impactGridDTO,
  projectCards,
  workHistoryCards,
  educationCard,
} from '../lib/cv-dto';
---

<Layout {...layoutDTO}>
  <PrintHeader
    name={sidebarDTO.name}
    role={sidebarDTO.role}
    location={sidebarDTO.location}
    phone={sidebarDTO.phone}
    email={sidebarDTO.email}
    linkedin={sidebarDTO.linkedin}
    github={sidebarDTO.github}
    profile={sidebarDTO.profile}
  />
  <CVLayout>
    <Sidebar slot="sidebar" {...sidebarDTO} />

    <Section
      title="Projects"
      id="projects"
      contentClass="light:pt-[var(--spacing-fluid-xs)]"
      hoverColors={['green', 'orange', 'blue', 'purple']}
      printBorderBottom
    >
      <div class="content-list">
        {projectCards.map((card) => (
          <ListItem>
            <ContentCard {...card} hideExtraBullets />
          </ListItem>
        ))}
      </div>
    </Section>

    <Section
      title="Impact"
      id="impact"
      class="[&:not(.is-collapsed)]:mb-[var(--spacing-fluid-md)]"
      hoverImpact
      printHide
    >
      <ImpactGrid {...impactGridDTO} />
    </Section>

    <Section
      title="History"
      id="history"
      contentClass="light:pt-[var(--spacing-fluid-xs)]"
      hoverColors={['green', 'purple', 'blue']}
    >
      <div class="content-list">
        {workHistoryCards.map((card) => (
          <ListItem>
            <ContentCard {...card} />
          </ListItem>
        ))}
      </div>
    </Section>

    <Section
      title="Education"
      id="education"
      printHideTitle
    >
      <div class="content-list">
        <ListItem bordered={false}>
          <ContentCard {...educationCard} />
        </ListItem>
      </div>
    </Section>
  </CVLayout>
</Layout>
